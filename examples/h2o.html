<html>
<head>
<title>ASE atomic visualization</title>
<link rel="stylesheet" type="text/css"
 href="https://www.x3dom.org/x3dom/release/x3dom.css">
</link>
<script type="text/javascript"
 src="https://www.x3dom.org/x3dom/release/x3dom.js">
</script>

<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.0.min.js" ></script>


 <script >
    	//Round a float value to x.xx format
    	function roundWithTwoDecimals(value)
    	{
    		return (Math.round(value * 100)) / 100;
    	}
    
    	//Handle click on any group member
    	function handleGroupClick(event)
    	{
    		//Mark hitting point
    		$('#marker').attr('translation', event.hitPnt);
    		console.log(event);
    		
    		//Display coordinates of hitting point (rounded)
    		var coordinates = event.hitPnt;
    		$('#coordX').html(roundWithTwoDecimals(coordinates[0]));
    		$('#coordY').html(roundWithTwoDecimals(coordinates[1]));
    		$('#coordZ').html(roundWithTwoDecimals(coordinates[2]));
    	}
    	
    	//Handle click on a shape
    	function handleSingleClick(shape)
    	{
    		$('#lastClickedObject').html($(shape).attr("def"));
    		
    	}
        
        $(document).ready(function(){
        	//Add a onclick callback to every shape
        	$("shape").each(function() {
        		$(this).attr("onclick", "handleSingleClick(this)");
        	});
        });

 </script> 
</head>
<body>

<div style="position:absolute;left:10px;top:10px;width:100px">
	<table style="font-size:1.0em;">
		<tr><td>Element: </td><td id="lastClickedObject">-</td></tr>
		<tr><td>X: </td><td id="coordX">-</td></tr>
		<tr><td>Y: </td><td id="coordY">-</td></tr>
		<tr><td>Z: </td><td id="coordZ">-</td></tr>
	</table>
</div>
<X3D>
<Scene>

 <Group onclick = "handleGroupClick(event)" >
 <Switch whichChoice = "-1" >
 <Shape DEF = "O">
 <Appearance >
 <Material diffuseColor = "1.0 0.051 0.051" transparency = "0.0" >
 </Material> 
 </Appearance> 
 <Sphere radius = "0.396" >
 </Sphere> 
 </Shape> 
 </Switch> 
 <Transform translation = "3.0 3.7632390000000004 3.5963089999999998" >
 <Shape USE = "O">
 </Shape> 
 </Transform> 
 <Switch whichChoice = "-1" >
 <Shape DEF = "H">
 <Appearance >
 <Material diffuseColor = "1.0 1.0 1.0" transparency = "0.0" >
 </Material> 
 </Appearance> 
 <Sphere radius = "0.186" >
 </Sphere> 
 </Shape> 
 </Switch> 
 <Transform translation = "3.0 4.526478000000001 3.0" >
 <Shape USE = "H">
 </Shape> 
 </Transform> 
 <Transform translation = "3.0 3.0000000000000004 3.0" >
 <Shape USE = "H">
 </Shape> 
 </Transform> 
 </Group> 
            <Shape>
            <Appearance>
            <Material diffuseColor='0 0 0' emissiveColor='0 0.5 1'/>
            </Appearance>
            <IndexedLineSet coordIndex='0 1 -1 0 2 -1 0 4 -1 1 3 -1 1 5 -1 2 3 -1 2 6 -1 3 7 -1 4 5 -1 4 6 -1 5 7 -1 6 7 -1'>
            <Coordinate point='[[0.       0.       0.       0.       0.       6.596309 0.       7.526478
  0.       0.       7.526478 6.596309 6.       0.       0.       6.
  0.       6.596309 6.       7.526478 0.       6.       7.526478 6.596309]]'/>
            </IndexedLineSet>
            </Shape>
            
 <Group onclick = "handleGroupClick(event)" >
 <Switch whichChoice = "-1" >
 <Shape DEF = "O">
 <Appearance >
 <Material diffuseColor = "1.0 0.051 0.051" transparency = "0.0" >
 </Material> 
 </Appearance> 
 <Cylinder height = "1.0" radius = "0.1" >
 </Cylinder> 
 </Shape> 
 </Switch> 
 <Transform translation = "3.0 3.5724292500000003 3.44723175" scale = "1 0.484282509131292 1" rotation = "0.9999999999973846 -1.4159035040451584e-06 1.7960270944419393e-06 0.6632261894847389" >
 <Shape USE = "O">
 </Shape> 
 </Transform> 
 <Transform translation = "3.0 3.9540487500000006 3.44723175" scale = "1 0.48428250913129217 1" rotation = "0.9999999999973259 -1.4158964325862044e-06 -1.8285033364734416e-06 2.478366431619715" >
 <Shape USE = "O">
 </Shape> 
 </Transform> 
 <Switch whichChoice = "-1" >
 <Shape DEF = "H">
 <Appearance >
 <Material diffuseColor = "1.0 1.0 1.0" transparency = "0.0" >
 </Material> 
 </Appearance> 
 <Cylinder height = "1.0" radius = "0.1" >
 </Cylinder> 
 </Shape> 
 </Switch> 
 <Transform translation = "3.0 4.335668250000001 3.14907725" scale = "1 0.48428250913129217 1" rotation = "-0.9999999999973846 1.4158964959648222e-06 1.7960181828726008e-06 0.6632261894847388" >
 <Shape USE = "H">
 </Shape> 
 </Transform> 
 <Transform translation = "3.0 3.1908097500000006 3.14907725" scale = "1 0.484282509131292 1" rotation = "-0.9999999999973259 1.4159035674241558e-06 -1.8285125280286425e-06 2.4783664316197145" >
 <Shape USE = "H">
 </Shape> 
 </Transform> 
 </Group> </Scene>
</X3D>
</body>
</html>
